(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{691:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return s});var a=n(689),r=n.n(a),o=n(331),c=n.n(o),i=(n(119),function(e,t){var n=r.a.find(e,function(e){return e.address===t});return n?n.symbol:""}),l=function(e,t){return r.a.toNumber(e)<1e5?"".concat(e," wei"):"".concat(c.a.utils.fromWei(e)," ").concat(t)},s=function(e){return r.a.toNumber(e)<1e5?"".concat(e," wei"):"".concat(c.a.utils.fromWei(e)," ether")}},695:function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return c}),n.d(t,"e",function(){return i});var a={formatter:function(e){return e?"".concat(e,"ether"):""},parser:function(e){return e.replace(/[a-z]/g,"")}},r=function(e){return{formatter:function(t){return t?"".concat(t).concat(e):""},parser:function(e){return e.replace(/[A-Z]/g,"")}}},o={formatter:function(e){return e?"".concat(e,"day"):""},parser:function(e){return e.replace(/[a-z]/g,"")}},c={formatter:function(e){return e?"".concat(e,"block"):""},parser:function(e){return e.replace(/[a-z]/g,"")}},i=function(e){return{validator:function(t,n,a){n<e&&a("value is smaller than ".concat(e));a()}}}},696:function(e,t,n){"use strict";var a=n(194),r=n(195),o=n(197),c=n(196),i=n(198),l=n(1),s=n.n(l),u=n(689),f=n.n(u),p=n(865),d=n(864),m=n(866),b=n(868),h=n(111),v=n(47),y=n(703),w=n(744),g=w.a.Option,O=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).defaultProps={allowClear:!0,disabled:!1,optionFilterProp:"children",placeholder:""},n.state={value:void 0},n.onChange=function(e){return n.setState({value:e})},n.getValue=function(){var e=n.props.defaultValue;return n.state.value||e},n.renderOptions=function(){var e=n.props.options;return f.a.map(e,function(e){var t=Object(y.a)(e,2),n=t[0],a=t[1];return s.a.createElement(g,{key:n,value:n},a)})},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.defaultValue,t=Object(v.a)({},f.a.omit(this.props,["options","defaultValue"]));return t.onChange||(t.onChange=this.onChange),f.a.isNil(e)||(t.defaultValue=e),s.a.createElement(w.a,Object.assign({},t,{showSearch:!0}),this.renderOptions())}}]),t}(s.a.Component),C=p.a.Item,E={wrapperCol:{sm:{span:3,offset:21},xs:{span:24}}},j={date:d.a,input:m.a,number:b.a,text:m.a.TextArea,select:O},k=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).handleSubmit=function(e){var t=n.props,a=t.form,r=t.onSubmit;e.preventDefault(),a.validateFields(function(e,t){e||r(t)})},n.renderFormItems=function(){var e=n.props,t=e.form,a=e.formItemLayout,r=e.items,o=t.getFieldDecorator;return f.a.map(r,function(e){var t=e.field,n=void 0===t?"input":t,r=e.fieldOptions,c=e.initialValue,i=e.label,l=e.name,u=e.rules,p=j[n],d={initialValue:c,rules:u,getValueFromEvent:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if("file"===n)return t[0].fileList;var r=t[0];if(!r||!r.target)return r;var o=r.target;return"checkbox"===o.type?o.checked:o.value}};return s.a.createElement(C,Object.assign({key:l},a,{label:i||f.a.capitalize(l)}),o(l,d)(s.a.createElement(p,r)))})},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onSubmit,n=e.submitText;return s.a.createElement(p.a,{onSubmit:this.handleSubmit},this.renderFormItems(),t!==f.a.noop&&s.a.createElement(C,E,s.a.createElement(h.a,{htmlType:"submit",type:"primary"},n)))}}]),t}(s.a.Component);k.defaultProps={formItemLayout:{labelCol:{sm:{span:8},xs:{span:24}},wrapperCol:{sm:{span:16},xs:{span:24}}},onSubmit:f.a.noop,submitText:"Save"};t.a=p.a.create({onValuesChange:function(e,t){e.onValuesChange&&e.onValuesChange(t)}})(k)},806:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var a=n(1),r=n(9),o=n(39),c=n(18),i=n(5),l=n.n(i),s=n(16),u=n(714);function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(){}var w=function(e){function t(){var e,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=b(t).apply(this,arguments),(e=!i||"object"!==f(i)&&"function"!==typeof i?h(n):i).state={closing:!0,closed:!1},e.handleClose=function(t){t.preventDefault();var n=r.findDOMNode(h(e));n.style.height="".concat(n.offsetHeight,"px"),n.style.height="".concat(n.offsetHeight,"px"),e.setState({closing:!1}),(e.props.onClose||y)(t)},e.animationEnd=function(){e.setState({closed:!0,closing:!0}),(e.props.afterClose||y)()},e.renderAlert=function(t){var n,r,i=t.getPrefixCls,s=e.props,f=s.description,m=s.prefixCls,b=s.message,h=s.closeText,v=s.banner,y=s.className,w=void 0===y?"":y,g=s.style,O=s.icon,C=e.props,E=C.closable,j=C.type,k=C.showIcon,x=C.iconType,S=i("alert",m);k=!(!v||void 0!==k)||k,j=v&&void 0===j?"warning":j||"info";var P="filled";if(!x){switch(j){case"success":x="check-circle";break;case"info":x="info-circle";break;case"error":x="close-circle";break;case"warning":x="exclamation-circle";break;default:x="default"}f&&(P="outlined")}h&&(E=!0);var V=l()(S,"".concat(S,"-").concat(j),(d(n={},"".concat(S,"-close"),!e.state.closing),d(n,"".concat(S,"-with-description"),!!f),d(n,"".concat(S,"-no-icon"),!k),d(n,"".concat(S,"-banner"),!!v),d(n,"".concat(S,"-closable"),E),n),w),N=E?a.createElement("a",{onClick:e.handleClose,className:"".concat(S,"-close-icon")},h||a.createElement(c.a,{type:"close"})):null,F=Object(u.a)(e.props),L=O&&(a.isValidElement(O)?a.cloneElement(O,{className:l()((r={},d(r,O.props.className,O.props.className),d(r,"".concat(S,"-icon"),!0),r))}):a.createElement("span",{className:"".concat(S,"-icon")},O))||a.createElement(c.a,{className:"".concat(S,"-icon"),type:x,theme:P});return e.state.closed?null:a.createElement(o.a,{component:"",showProp:"data-show",transitionName:"".concat(S,"-slide-up"),onEnd:e.animationEnd},a.createElement("div",p({"data-show":e.state.closing,className:V,style:g},F),k?L:null,a.createElement("span",{className:"".concat(S,"-message")},b),a.createElement("span",{className:"".concat(S,"-description")},f),N))},e}var n,i,w;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,a["Component"]),n=t,(i=[{key:"render",value:function(){return a.createElement(s.a,null,this.renderAlert)}}])&&m(n.prototype,i),w&&m(n,w),t}()},872:function(e,t,n){"use strict";n.r(t);var a=n(703),r=n(194),o=n(195),c=n(197),i=n(196),l=n(198),s=n(1),u=n.n(s),f=n(0),p=n.n(f),d=n(689),m=n.n(d),b=n(91),h=n(684),v=n(873),y=n(686),w=n(18),g=n(90),O=n(41),C=n(869),E=n(111),j=n(331),k=n.n(j),x=n(681),S=n(806),P=n(696),V="0x0000000000000000000000000000000000000000",N=n(691),F=n(695),L=function(e){function t(e,n){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).handleValueChange=function(e){return a.setState(e)},a.handleCommitFund=function(){var e=a.props.onClose;a.form.current.validateFields(function(t,n){if(!t){var r=n.token,o=n.duration,c=n.value,i=k.a.utils.toWei(c.toString(),"ether"),l={};r===V&&(l.value=i),a.contracts.PoLC.methods.commitFund.cacheSend(r,o,i,l),a.form.current.resetFields(),e()}})},a.state={},a.form=u.a.createRef(),a.contracts=n.drizzle.contracts,a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.network,n=e.visible,a=e.onClose,r=[{name:"token",field:"select",fieldOptions:{options:t.supportedTokens.map(function(e){return[e.address,"".concat(e.symbol," (").concat(e.address,")")]})},rules:[{message:"Please select a token!",required:!0}]},{name:"value",field:"number",fieldOptions:Object(F.b)(Object(N.c)(t.supportedTokens,this.state.token)),rules:[Object(F.e)(0),{message:"Please enter a value!",required:!0}]},{name:"duration",field:"number",fieldOptions:F.c,rules:[Object(F.e)(0),{message:"Please enter a duration!",required:!0}]}];return u.a.createElement(x.a,{title:"Commit Fund",visible:n,onOk:this.handleCommitFund,onCancel:a},u.a.createElement(S.a,{message:"Your fund will not be available until the commitment expires",type:"warning",showIcon:!0}),u.a.createElement(P.a,{ref:this.form,items:r,onValuesChange:this.handleValueChange}))}}]),t}(u.a.Component);L.contextTypes={drizzle:p.a.object};var T=L,z=function(e){return("0"!==e?new Date(864e5*m.a.toNumber(e)):new Date).toLocaleDateString()},A=function(e){return m.a.toNumber(e)<new Date/864e5},I=function(e){function t(e,n){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(i.a)(t).call(this,e))).toggleModal=function(){o.setState(function(e){return{isModalVisible:!e.isModalVisible}})},o.withdrawFund=function(e){var t=e.currentTarget.dataset.index,n=o.props.PoLC,r=m.a.values(n.commitmentsByUser)[t],c=r.value.lockEnd,i=Object(a.a)(r.args,2)[1];A(c)?o.contracts.PoLC.methods.withdrawFund.cacheSend(i):h.a.error("Cannot withdraw fund before expiration")},o.withdrawReward=function(e){var t=e.currentTarget.dataset.index,n=o.props.PoLC,r=m.a.values(n.commitmentsByUser)[t],c=r.value.lockEnd,i=Object(a.a)(r.args,2)[1];A(c)?o.contracts.PoLC.methods.withdrawReward.cacheSend(i):h.a.error("Cannot withdraw reward before expiration")},o.renderCommitment=function(e,t){var n=o.props.network,a=e.value,r=a.tokenAddress,c=a.lockStart,i=a.lockEnd,l=a.availableValue,s=a.lendingValue,f=Object(N.c)(n.supportedTokens,r);return u.a.createElement(v.a.Item,null,u.a.createElement(y.a,{actions:[u.a.createElement(w.a,{type:"export",title:"Withdraw Fund","data-index":t,onClick:o.withdrawFund}),u.a.createElement(w.a,{type:"dollar",title:"Withdraw Reward","data-index":t,onClick:o.withdrawReward})]},u.a.createElement(g.a,null,u.a.createElement(O.a,{span:12},u.a.createElement(C.a,{title:"Lock Start",value:z(c)})),u.a.createElement(O.a,{span:12},u.a.createElement(C.a,{title:"Lock End",value:z(i)})),u.a.createElement(O.a,{span:12},u.a.createElement(C.a,{title:"Available Value",value:Object(N.a)(l,f)})),u.a.createElement(O.a,{span:12},u.a.createElement(C.a,{title:"Lending Value",value:Object(N.a)(s,f)})))))},o.renderCommiments=function(){var e=o.props.PoLC,t=m.a.values(e.commitmentsByUser);return u.a.createElement(v.a,{grid:{gutter:16,column:3},dataSource:t,renderItem:o.renderCommitment})},o.state={isModalVisible:!1},o.contracts=n.drizzle.contracts,o}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.isModalVisible,t=this.props.network;return u.a.createElement(y.a,{title:"PoLC",extra:u.a.createElement(E.a,{type:"primary",onClick:this.toggleModal},"Commit fund")},this.renderCommiments(),u.a.createElement(T,{network:t,visible:e,onClose:this.toggleModal}))}}]),t}(u.a.Component);I.contextTypes={drizzle:p.a.object};t.default=Object(b.drizzleConnect)(I,function(e){var t=e.contracts;return{network:e.network,PoLC:t.PoLC}})}}]);
//# sourceMappingURL=7.74c65c7b.chunk.js.map