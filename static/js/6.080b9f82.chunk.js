(this["webpackJsonptruffle-react-redux-dapp"]=this["webpackJsonptruffle-react-redux-dapp"]||[]).push([[6],{826:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return s}));var a=n(62),r=n.n(a),o=n(188),c=n.n(o),i=(n(146),function(e,t){var n=r.a.find(e,(function(e){return e.address===t}));return n?n.symbol:""}),l=function(e,t){return r.a.toNumber(e)<1e5?"".concat(e," wei"):"".concat(c.a.utils.fromWei(e)," ").concat(t)},s=function(e){return l(e,"CELR")}},827:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="0x0000000000000000000000000000000000000000"},843:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(0),r=n(8),o=n(43),c=n(3),i=n.n(c),l=n(11),s=n(187),u=n(250),d=n(14);function p(e){return(p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(){}var O=function(e){function t(e){var n,c,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c=this,s=h(t).call(this,e),(n=!s||"object"!==p(s)&&"function"!==typeof s?y(c):s).handleClose=function(e){e.preventDefault();var t=r.findDOMNode(y(n));t.style.height="".concat(t.offsetHeight,"px"),t.style.height="".concat(t.offsetHeight,"px"),n.setState({closing:!0}),(n.props.onClose||w)(e)},n.animationEnd=function(){n.setState({closing:!1,closed:!0}),(n.props.afterClose||w)()},n.renderAlert=function(e){var t,r=e.getPrefixCls,c=n.props,s=c.description,d=c.prefixCls,p=c.message,b=c.closeText,h=c.banner,y=c.className,v=void 0===y?"":y,w=c.style,O=c.icon,g=n.props,E=g.closable,j=g.type,C=g.showIcon,k=g.iconType,P=n.state,x=P.closing,S=P.closed,N=r("alert",d);C=!(!h||void 0!==C)||C,j=h&&void 0===j?"warning":j||"info";var T="filled";if(!k){switch(j){case"success":k="check-circle";break;case"info":k="info-circle";break;case"error":k="close-circle";break;case"warning":k="exclamation-circle";break;default:k="default"}s&&(T="outlined")}b&&(E=!0);var L=i()(N,"".concat(N,"-").concat(j),(m(t={},"".concat(N,"-closing"),x),m(t,"".concat(N,"-with-description"),!!s),m(t,"".concat(N,"-no-icon"),!C),m(t,"".concat(N,"-banner"),!!h),m(t,"".concat(N,"-closable"),E),t),v),z=E?a.createElement("button",{type:"button",onClick:n.handleClose,className:"".concat(N,"-close-icon"),tabIndex:0},b?a.createElement("span",{className:"".concat(N,"-close-text")},b):a.createElement(l.a,{type:"close"})):null,V=Object(u.a)(n.props),D=O&&(a.isValidElement(O)?a.cloneElement(O,{className:i()("".concat(N,"-icon"),m({},O.props.className,O.props.className))}):a.createElement("span",{className:"".concat(N,"-icon")},O))||a.createElement(l.a,{className:"".concat(N,"-icon"),type:k,theme:T});return S?null:a.createElement(o.a,{component:"",showProp:"data-show",transitionName:"".concat(N,"-slide-up"),onEnd:n.animationEnd},a.createElement("div",f({"data-show":!x,className:L,style:w},V),C?D:null,a.createElement("span",{className:"".concat(N,"-message")},p),a.createElement("span",{className:"".concat(N,"-description")},s),z))},Object(d.a)(!("iconType"in e),"Alert","`iconType` is deprecated. Please use `icon` instead."),n.state={closing:!1,closed:!1},n}var n,c,O;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(c=[{key:"render",value:function(){return a.createElement(s.a,null,this.renderAlert)}}])&&b(n.prototype,c),O&&b(n,O),t}(a.Component)},906:function(e,t,n){"use strict";n.r(t);var a=n(249),r=n(71),o=n(72),c=n(74),i=n(73),l=n(75),s=n(0),u=n.n(s),d=n(1),p=n.n(d),f=n(62),m=n.n(f),b=n(114),h=n(819),y=n(904),v=n(825),w=n(79),O=n(111),g=n(55),E=n(901),j=n(46),C=n(188),k=n.n(C),P=n(815),x=n(843),S=n(247),N=n(827),T=n(826),L=n(246);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){function t(e,n){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).handleValueChange=function(e){return a.setState(e)},a.handleCommitFund=function(){var e=a.props.onClose;a.form.current.validateFields((function(t,n){var r;if(!t){var o=n.token,c=n.duration,i=n.value,l=k.a.utils.toWei(i.toString(),"ether"),s=[o,c,l];o===N.a&&s.push({value:l}),(r=a.contracts.PoLC.methods.commitFund).cacheSend.apply(r,s),a.form.current.resetFields(),e()}}))},a.state={},a.form=u.a.createRef(),a.contracts=n.drizzle.contracts,a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.network,n=e.visible,a=e.onClose,r=t.supportedTokens.map((function(e){return[e.address,"".concat(e.symbol," (").concat(e.address,")")]})),o=Object(T.c)(t.supportedTokens,this.state.token),c=[{name:"token",field:"select",fieldOptions:{options:r,placeholder:"Token type to commit"},rules:[{message:"Please select a token!",required:!0}]},{name:"value",field:"number",fieldOptions:V({},Object(L.c)(o),{placeholder:"The amount of token to commit"}),rules:[Object(L.e)(0),{message:"Please enter a value!",required:!0}]},{name:"duration",field:"number",fieldOptions:V({},L.d,{placeholder:"Lock-in duration"}),rules:[Object(L.e)(0),{message:"Please enter a duration!",required:!0}]}];return u.a.createElement(P.a,{title:"Commit Fund",visible:n,onOk:this.handleCommitFund,onCancel:a},u.a.createElement(x.a,{message:"Your fund will not be available until the commitment expires",type:"warning",showIcon:!0}),u.a.createElement(S.a,{ref:this.form,items:c,onValuesChange:this.handleValueChange}))}}]),t}(u.a.Component);D.contextTypes={drizzle:p.a.object};var F=D,M=function(e){return("0"!==e?new Date(864e5*m.a.toNumber(e)):new Date).toLocaleDateString()},R=function(e){return m.a.toNumber(e)<new Date/864e5},_=function(e){function t(e,n){var o;return Object(r.a)(this,t),(o=Object(c.a)(this,Object(i.a)(t).call(this,e))).toggleModal=function(){o.setState((function(e){return{isModalVisible:!e.isModalVisible}}))},o.withdrawFund=function(e){var t=e.currentTarget.dataset.index,n=o.props.PoLC,r=m.a.values(n.commitmentsByUser)[t],c=r.value.lockEnd,i=Object(a.a)(r.args,2)[1];R(c)?o.contracts.PoLC.methods.withdrawFund.cacheSend(i):h.a.error("Cannot withdraw fund before expiration")},o.withdrawReward=function(e){var t=e.currentTarget.dataset.index,n=o.props.PoLC,r=m.a.values(n.commitmentsByUser)[t],c=r.value.lockEnd,i=Object(a.a)(r.args,2)[1];R(c)?o.contracts.PoLC.methods.withdrawReward.cacheSend(i):h.a.error("Cannot withdraw reward before expiration")},o.renderCommitment=function(e,t){var n=o.props.network,a=e.value,r=a.tokenAddress,c=a.lockEnd,i=a.availableValue,l=a.lendingValue,s=e.args[1],d=Object(T.c)(n.supportedTokens,r);return u.a.createElement(y.a.Item,null,u.a.createElement(v.a,{actions:[u.a.createElement(w.a,{"data-index":t,icon:"export",size:"small",title:"Withdraw Fund",type:"link",onClick:o.withdrawFund},"Withdraw"),u.a.createElement(w.a,{"data-index":t,icon:"dollar",size:"small",title:"Withdraw Reward",type:"link",onClick:o.withdrawReward},"Reward")]},u.a.createElement(O.a,null,u.a.createElement(g.a,{span:12},u.a.createElement(E.a,{title:"ID",groupSeparator:"",value:s})),u.a.createElement(g.a,{span:12},u.a.createElement(E.a,{title:"Lock End",value:M(c)})),u.a.createElement(g.a,{span:12},u.a.createElement(E.a,{title:"Available Value",value:Object(T.b)(i,d)})),u.a.createElement(g.a,{span:12},u.a.createElement(E.a,{title:"Lending Value",value:Object(T.b)(l,d)})))))},o.renderCommiments=function(){var e=o.props.PoLC,t=m.a.values(e.commitmentsByUser);return u.a.createElement(y.a,{grid:{gutter:16,column:3},dataSource:t,renderItem:o.renderCommitment})},o.state={isModalVisible:!1},o.contracts=n.drizzle.contracts,o}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.isModalVisible,t=this.props.network;return u.a.createElement(v.a,{title:"PoLC",extra:u.a.createElement(w.a,{type:"primary",onClick:this.toggleModal},"Commit fund")},this.renderCommiments(),u.a.createElement(F,{network:t,visible:e,onClose:this.toggleModal}))}}]),t}(u.a.Component);_.contextTypes={drizzle:p.a.object};t.default=Object(b.drizzleConnect)(_,(function(e){var t=e.contracts;return{network:e.network,PoLC:t.PoLC}}))}}]);
//# sourceMappingURL=6.080b9f82.chunk.js.map